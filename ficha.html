<!DOCTYPE html>
<html lang="vi-vn">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chi tiáº¿t trung tÃ¢m | Anh Ngá»¯ Viá»‡t Nam</title>
  <meta name="description" content="ThÃ´ng tin chi tiáº¿t vá» trung tÃ¢m Anh ngá»¯." id="metaDescription">
  <link rel="canonical" href="https://example.com/ficha.html" id="canonicalLink">
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;900&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,300&display=swap" rel="stylesheet">
  <script type="application/ld+json" id="schemaJson">
  {
    "@context": "https://schema.org",
    "@type": "LocalBusiness",
    "name": "Trung tÃ¢m",
    "description": "Chi tiáº¿t trung tÃ¢m",
    "address": { "@type": "PostalAddress", "addressLocality": "Viá»‡t Nam" },
    "telephone": ""
  }
  </script>

  <style>
  /* â”€â”€ FICHA PAGE STYLES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

  /* Hero ficha */
  .hero.ficha {
    min-height: 50vh;
    padding: calc(var(--header-h) + 48px) 0 64px;
  }

  .ficha-hero-content {
    max-width: 900px;
  }

  .center-hero-actions {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 32px;
  }
  .center-hero-actions .btn {
    padding: 13px 24px;
    font-size: .9rem;
  }
  .center-hero-actions .btn svg { width: 16px; height: 16px; }
  .btn-call {
    background: var(--clr-gold);
    color: var(--clr-navy);
    border: none;
  }
  .btn-call:hover {
    background: var(--clr-gold-light);
    box-shadow: 0 4px 20px rgba(201,168,76,.35);
  }
  .btn-website {
    background: transparent;
    border: 1.5px solid var(--clr-gold);
    color: var(--clr-gold);
  }
  .btn-website:hover {
    background: var(--clr-gold);
    color: var(--clr-navy);
  }
  .btn-directions {
    background: rgba(255,255,255,.08);
    border: 1.5px solid rgba(255,255,255,.15);
    color: rgba(255,255,255,.75);
  }
  .btn-directions:hover {
    border-color: var(--clr-gold);
    color: var(--clr-gold);
    background: rgba(201,168,76,.1);
  }

  /* Details section */
  .section-details {
    background: var(--clr-bg);
    padding: 80px 0;
  }

  .details-grid {
    display: grid;
    grid-template-columns: 1.8fr 1fr;
    gap: 40px;
    align-items: start;
  }

  .details-main,
  .details-sidebar {
    background: var(--clr-surface);
    border: 1px solid var(--clr-border);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
  }

  .details-main {
    padding: 40px;
  }

  .detail-section {
    margin-bottom: 40px;
    padding-bottom: 32px;
    border-bottom: 1px solid var(--clr-border);
  }
  .detail-section:last-child {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
  }

  .detail-section h3 {
    font-family: var(--font-display);
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--clr-text);
    margin-bottom: 16px;
    display: flex;
    align-items: center;
    gap: 12px;
  }
  .detail-section h3 .icon {
    width: 32px; height: 32px;
    background: rgba(201,168,76,.12);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.1rem;
    flex-shrink: 0;
  }

  .detail-section h4 {
    font-family: var(--font-display);
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--clr-text);
    margin-bottom: 12px;
  }

  .detail-section p {
    color: var(--clr-muted);
    line-height: 1.75;
    margin-bottom: 12px;
  }
  .detail-section p:last-child { margin-bottom: 0; }

  .tag-list {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-top: 12px;
  }
  .tag {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-size: .8rem;
    font-weight: 600;
    color: var(--clr-gold-dark);
    background: rgba(201,168,76,.08);
    border: 1px solid rgba(201,168,76,.2);
    padding: 5px 12px;
    border-radius: 100px;
  }
  .tag svg { width: 12px; height: 12px; color: var(--clr-gold); }

  /* Info list */
  .info-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
  .info-list li {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    font-size: .9rem;
    color: var(--clr-text);
    line-height: 1.6;
  }
  .info-list svg {
    width: 16px; height: 16px;
    flex-shrink: 0;
    color: var(--clr-gold);
    margin-top: 2px;
  }

  /* Sidebar */
  .details-sidebar {
    position: sticky;
    top: calc(var(--header-h) + 24px);
    padding: 32px;
  }

  .sidebar-section {
    margin-bottom: 32px;
    padding-bottom: 28px;
    border-bottom: 1px solid var(--clr-border);
  }
  .sidebar-section:last-child {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
  }

  .sidebar-section h4 {
    font-family: var(--font-display);
    font-size: 1.15rem;
    font-weight: 700;
    color: var(--clr-text);
    margin-bottom: 16px;
  }

  .contact-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 12px;
  }
  .contact-list li {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    font-size: .88rem;
    color: var(--clr-text);
    line-height: 1.5;
  }
  .contact-list svg {
    width: 15px; height: 15px;
    flex-shrink: 0;
    color: var(--clr-gold);
    margin-top: 2px;
  }
  .contact-list a {
    color: var(--clr-gold-dark);
    transition: color .2s;
  }
  .contact-list a:hover {
    color: var(--clr-gold);
    text-decoration: underline;
  }

  .sidebar-actions {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }
  .sidebar-actions .btn {
    width: 100%;
    justify-content: center;
    padding: 12px 20px;
    font-size: .88rem;
  }

  .map-container {
    border-radius: var(--radius-md);
    overflow: hidden;
    margin-top: 16px;
    border: 1px solid var(--clr-border);
  }
  .map-container iframe {
    width: 100%;
    height: 260px;
    border: none;
    display: block;
  }

  /* Rating display */
  .rating-display {
    display: flex;
    flex-direction: column;
    gap: 8px;
    background: linear-gradient(135deg, rgba(201,168,76,.08) 0%, rgba(201,168,76,.02) 100%);
    border: 1px solid rgba(201,168,76,.15);
    border-radius: var(--radius-md);
    padding: 20px;
  }
  .rating-score {
    display: flex;
    align-items: baseline;
    gap: 8px;
  }
  .rating-score .big {
    font-family: var(--font-display);
    font-size: 3rem;
    font-weight: 800;
    color: var(--clr-gold-dark);
    line-height: 1;
  }
  .rating-score .stars {
    color: #F59E0B;
    font-size: 1.1rem;
    letter-spacing: 2px;
  }
  .rating-meta {
    font-size: .82rem;
    color: var(--clr-subtle);
  }
  .rating-meta strong {
    color: var(--clr-text);
    font-weight: 600;
  }

  /* Reviews */
  .reviews-list {
    display: flex;
    flex-direction: column;
    gap: 20px;
    margin-top: 24px;
  }
  .review-card {
    background: #FAFAF8;
    border: 1px solid var(--clr-border);
    border-radius: var(--radius-md);
    padding: 20px;
    transition: box-shadow .2s;
  }
  .review-card:hover {
    box-shadow: var(--shadow-md);
  }
  .review-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    margin-bottom: 10px;
  }
  .review-author {
    font-weight: 700;
    font-size: .9rem;
    color: var(--clr-text);
  }
  .review-rating {
    display: flex;
    align-items: center;
    gap: 4px;
    color: #F59E0B;
    font-size: .85rem;
  }
  .review-text {
    font-size: .88rem;
    color: var(--clr-muted);
    line-height: 1.65;
    margin: 0;
  }

  /* Related centers */
  .related-section {
    background: #F5F4F0;
    padding: 80px 0;
  }

  /* FAQ */
  .faq-section {
    background: var(--clr-bg);
    padding: 80px 0;
  }

  /* Empty state */
  .empty-message {
    text-align: center;
    padding: 40px 20px;
    color: var(--clr-subtle);
    font-size: .9rem;
  }

  /* Share buttons */
  .share-buttons {
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .share-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px; height: 36px;
    border-radius: 50%;
    border: 1.5px solid var(--clr-border);
    background: transparent;
    cursor: pointer;
    transition: all .2s;
    color: var(--clr-muted);
  }
  .share-btn:hover {
    border-color: var(--clr-gold);
    color: var(--clr-gold);
    background: rgba(201,168,76,.05);
  }
  .share-btn svg { width: 16px; height: 16px; }

  /* Responsive */
  @media (max-width: 1024px) {
    .details-grid {
      grid-template-columns: 1fr;
    }
    .details-sidebar {
      position: static;
    }
  }

  @media (max-width: 768px) {
    .hero.ficha { min-height: 40vh; text-align: center; }
    .ficha-hero-content { max-width: 100%; }
    .center-hero-actions { justify-content: center; }
    .details-main, .details-sidebar { padding: 24px; }
    .detail-section { margin-bottom: 28px; padding-bottom: 24px; }
  }
  </style>
</head>
<body>

  <!-- ===== HEADER ===== -->
  <header id="siteHeader">
    <div class="container header-inner">
      <a href="index.html" class="logo">
        <span class="logo-mark">AN</span>
        <span class="logo-text">Anh Ngá»¯ <em>Viá»‡t Nam</em></span>
      </a>
      <nav class="desktop-nav">
        <a href="about.html">Giá»›i thiá»‡u</a>
        <a href="add-listing.html">ThÃªm doanh nghiá»‡p</a>
        <a href="contact.html" class="nav-cta">LiÃªn há»‡</a>
      </nav>
      <button class="mobile-toggle" id="mobileToggle" aria-label="Menu">
        <span></span><span></span><span></span>
      </button>
    </div>
  </header>

  <nav id="mobileNav" class="mobile-nav" aria-hidden="true">
    <a href="about.html">Giá»›i thiá»‡u</a>
    <a href="add-listing.html">ThÃªm doanh nghiá»‡p</a>
    <a href="contact.html">LiÃªn há»‡</a>
  </nav>

  <!-- ===== HERO ===== -->
  <main>
    <section class="hero category ficha">
      <div class="hero-grid" aria-hidden="true"></div>
      <div class="orb orb-1" aria-hidden="true"></div>
      <div class="orb orb-2" aria-hidden="true"></div>
      <div class="container">
        <div class="hero-category-content ficha-hero-content">
          <nav id="breadcrumbs" class="breadcrumbs" aria-label="Breadcrumb"></nav>
          <div class="hero-cat-eyebrow" id="categoryEyebrow">Trung tÃ¢m</div>
          <h1 id="centerName">Äang táº£i...</h1>
          <p id="centerIntro" class="cat-intro"></p>
          <div id="centerStats" class="cat-stats-bar"></div>
          <div id="centerHeroActions" class="center-hero-actions"></div>
        </div>
      </div>
    </section>

    <!-- ===== DETAILS SECTION ===== -->
    <section class="section-details">
      <div class="container">
        <div class="details-grid">
          <!-- Main content -->
          <div class="details-main" id="centerMain">
            <div class="empty-message">Äang táº£i thÃ´ng tin...</div>
          </div>

          <!-- Sidebar -->
          <aside class="details-sidebar" id="centerSidebar">
            <div class="sidebar-section">
              <h4>ThÃ´ng tin liÃªn há»‡</h4>
              <ul class="contact-list" id="contactList">
                <li>Äang táº£i...</li>
              </ul>
            </div>
          </aside>
        </div>
      </div>
    </section>

    <!-- ===== RELATED CENTERS ===== -->
    <section id="relatedCentersSection" class="related-section" style="display:none;">
      <div class="container">
        <div class="section-header">
          <div class="section-label">Gá»£i Ã½ khÃ¡c</div>
          <h2 class="section-title">Trung tÃ¢m<br>liÃªn quan</h2>
        </div>
        <div id="relatedCenters" class="centers-grid"></div>
      </div>
    </section>

    <!-- ===== FAQ ===== -->
    <section id="faqCenterSection" class="faq-section" style="display:none;">
      <div class="container">
        <div class="section-header">
          <div class="section-label">Há»— trá»£</div>
          <h2 class="section-title">CÃ¢u há»i thÆ°á»ng gáº·p</h2>
        </div>
        <div class="accordion-list" id="faqList"></div>
      </div>
    </section>

  </main>

  <!-- ===== FOOTER ===== -->
  <footer>
    <div class="container">
      <div class="footer-top">
        <div class="footer-brand">
          <a href="index.html" class="logo">
            <span class="logo-mark">AN</span>
            <span class="logo-text">Anh Ngá»¯ <em>Viá»‡t Nam</em></span>
          </a>
          <p>Cáº©m nang cá»§a báº¡n vá» trung tÃ¢m Anh ngá»¯ táº¡i Viá»‡t Nam. ThÃ´ng tin minh báº¡ch, cáº­p nháº­t thÆ°á»ng xuyÃªn.</p>
        </div>
        <div class="footer-links">
          <div class="footer-col">
            <h4>Äiá»u hÆ°á»›ng</h4>
            <a href="about.html">Giá»›i thiá»‡u</a>
            <a href="categoria.html">Táº¥t cáº£ trung tÃ¢m</a>
            <a href="add-listing.html">ThÃªm doanh nghiá»‡p</a>
            <a href="contact.html">LiÃªn há»‡</a>
          </div>
          <div class="footer-col">
            <h4>PhÃ¡p lÃ½</h4>
            <a href="privacy.html">Quyá»n riÃªng tÆ°</a>
            <a href="terms.html">Äiá»u khoáº£n sá»­ dá»¥ng</a>
            <a href="cookies.html">ChÃ­nh sÃ¡ch cookie</a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2026 Anh Ngá»¯ Viá»‡t Nam. Má»i quyá»n Ä‘Æ°á»£c báº£o lÆ°u.</p>
        <p>ÄÆ°á»£c lÃ m vá»›i <span aria-label="yÃªu">â¤</span> táº¡i Viá»‡t Nam</p>
      </div>
    </div>
  </footer>

  <script>
  // â”€â”€ Utilities â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function createEl(tag, opts = {}) {
    const el = document.createElement(tag);
    if (opts.class) el.className = opts.class;
    if (opts.text) el.textContent = opts.text;
    if (opts.html) el.innerHTML = opts.html;
    return el;
  }

  function getCenterId() {
    const params = new URLSearchParams(window.location.search);
    return params.get('id') || '';
  }

  // â”€â”€ Header scroll â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const header = document.getElementById('siteHeader');
  window.addEventListener('scroll', () => {
    header.classList.toggle('scrolled', window.scrollY > 40);
  }, { passive: true });

  // â”€â”€ Mobile nav â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  document.getElementById('mobileToggle').addEventListener('click', () => {
    const nav = document.getElementById('mobileNav');
    const btn = document.getElementById('mobileToggle');
    const open = nav.classList.toggle('open');
    btn.classList.toggle('active', open);
    nav.setAttribute('aria-hidden', String(!open));
  });

  // â”€â”€ Breadcrumbs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function renderBreadcrumbs(center, categoryObj) {
    const bc = document.getElementById('breadcrumbs');
    bc.innerHTML = `
      <a href="index.html">Trang chá»§</a>
      <span class="sep">â€º</span>
      <a href="categoria.html">Táº¥t cáº£ danh má»¥c</a>
      ${categoryObj ? `<span class="sep">â€º</span><a href="categoria.html?kategori=${categoryObj.slug}">${categoryObj.name}</a>` : ''}
      <span class="sep">â€º</span>
      <span class="current">${center.name}</span>
    `;
  }

  // â”€â”€ Hero â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function renderHero(center, categoryObj) {
    document.getElementById('categoryEyebrow').textContent = categoryObj ? categoryObj.name : center.category_primary || 'Trung tÃ¢m';
    document.getElementById('centerName').textContent = center.name;
    document.getElementById('centerIntro').textContent = center.description || `Trung tÃ¢m Anh ngá»¯ cháº¥t lÆ°á»£ng táº¡i ${center.city || 'Viá»‡t Nam'}.`;

    // Stats
    const statsEl = document.getElementById('centerStats');
    const stars = center.rating ? 'â˜…'.repeat(Math.round(center.rating)) + 'â˜†'.repeat(5 - Math.round(center.rating)) : 'â”€';
    statsEl.innerHTML = `
      ${center.rating ? `<div class="cat-stat"><strong>${center.rating.toFixed(1)}</strong> <span class="stars" style="color:#F59E0B;">${stars}</span></div>` : ''}
      ${center.rating && center.reviews_count ? `<div class="cat-stat-sep"></div>` : ''}
      ${center.reviews_count ? `<div class="cat-stat"><strong>${center.reviews_count}</strong> nháº­n xÃ©t</div>` : ''}
      ${center.phone ? `<div class="cat-stat-sep"></div><div class="cat-stat">ğŸ“ CÃ³ sá»‘ Ä‘iá»‡n thoáº¡i</div>` : ''}
    `;

    // Actions
    const actionsEl = document.getElementById('centerHeroActions');
    actionsEl.innerHTML = '';
    if (center.phone) {
      const btn = createEl('a', { class: 'btn btn-call' });
      btn.href = `tel:${center.phone}`;
      btn.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 01-2.18 2 19.86 19.86 0 01-8.63-3.15A19.5 19.5 0 014.23 11.83 19.86 19.86 0 011.05 3.55A2 2 0 013 1.36h3a2 2 0 012 1.72c.11.81.29 1.61.55 2.39a2 2 0 01-.45 2L6.24 8.24a16 16 0 007.52 7.52l1.38-1.38a2 2 0 012-.45c.78.26 1.58.44 2.39.55a2 2 0 011.72 2z"/></svg> Gá»i ngay`;
      actionsEl.appendChild(btn);
    }
    if (center.website) {
      const btn = createEl('a', { class: 'btn btn-website' });
      btn.href = center.website.startsWith('http') ? center.website : `http://${center.website}`;
      btn.target = '_blank';
      btn.rel = 'noopener noreferrer';
      btn.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"/></svg> Website`;
      actionsEl.appendChild(btn);
    }
    if (center.geo && center.geo.lat && center.geo.lng) {
      const btn = createEl('a', { class: 'btn btn-directions' });
      btn.href = `https://www.google.com/maps/dir/?api=1&destination=${center.geo.lat},${center.geo.lng}`;
      btn.target = '_blank';
      btn.rel = 'noopener noreferrer';
      btn.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg> Chá»‰ Ä‘Æ°á»ng`;
      actionsEl.appendChild(btn);
    }
  }

  // â”€â”€ Main content â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function renderMainContent(center) {
    const main = document.getElementById('centerMain');
    main.innerHTML = '';

    // Rating section
    if (center.rating) {
      const section = createEl('div', { class: 'detail-section' });
      const h3 = createEl('h3');
      h3.innerHTML = '<span class="icon">â­</span> ÄÃ¡nh giÃ¡';
      section.appendChild(h3);

      const ratingDisplay = createEl('div', { class: 'rating-display' });
      const stars = 'â˜…'.repeat(Math.round(center.rating)) + 'â˜†'.repeat(5 - Math.round(center.rating));
      ratingDisplay.innerHTML = `
        <div class="rating-score">
          <div class="big">${center.rating.toFixed(1)}</div>
          <div class="stars">${stars}</div>
        </div>
        <div class="rating-meta">Dá»±a trÃªn <strong>${center.reviews_count || 0}</strong> nháº­n xÃ©t tá»« há»c viÃªn</div>
      `;
      section.appendChild(ratingDisplay);

      // Reviews
      if (center.reviews && center.reviews.length) {
        const reviewsList = createEl('div', { class: 'reviews-list' });
        center.reviews.slice(0, 3).forEach(r => {
          const card = createEl('div', { class: 'review-card' });
          card.innerHTML = `
            <div class="review-header">
              <span class="review-author">${r.author || 'Há»c viÃªn'}</span>
              <div class="review-rating">${r.rating || center.rating} â˜…</div>
            </div>
            <p class="review-text">${r.text || r.comment || 'KhÃ´ng cÃ³ nháº­n xÃ©t.'}</p>
          `;
          reviewsList.appendChild(card);
        });
        section.appendChild(reviewsList);
      }
      main.appendChild(section);
    }

    // Description
    if (center.description) {
      const section = createEl('div', { class: 'detail-section' });
      const h3 = createEl('h3');
      h3.innerHTML = '<span class="icon">ğŸ“</span> Giá»›i thiá»‡u';
      section.appendChild(h3);
      const p = createEl('p', { text: center.description });
      section.appendChild(p);
      main.appendChild(section);
    }

    // Services
    if (center.services && center.services.length) {
      const section = createEl('div', { class: 'detail-section' });
      const h3 = createEl('h3');
      h3.innerHTML = '<span class="icon">ğŸ“</span> Dá»‹ch vá»¥';
      section.appendChild(h3);
      const tags = createEl('div', { class: 'tag-list' });
      center.services.forEach(s => {
        const tag = createEl('span', { class: 'tag' });
        tag.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg> ${s}`;
        tags.appendChild(tag);
      });
      section.appendChild(tags);
      main.appendChild(section);
    }

    // Activities
    if (center.activities && center.activities.length) {
      const section = createEl('div', { class: 'detail-section' });
      const h3 = createEl('h3');
      h3.innerHTML = '<span class="icon">ğŸ¯</span> Hoáº¡t Ä‘á»™ng';
      section.appendChild(h3);
      const tags = createEl('div', { class: 'tag-list' });
      center.activities.forEach(a => {
        const tag = createEl('span', { class: 'tag', text: a });
        tags.appendChild(tag);
      });
      section.appendChild(tags);
      main.appendChild(section);
    }

    // Facilities
    if (center.facilities && center.facilities.length) {
      const section = createEl('div', { class: 'detail-section' });
      const h3 = createEl('h3');
      h3.innerHTML = '<span class="icon">ğŸ¢</span> CÆ¡ sá»Ÿ váº­t cháº¥t';
      section.appendChild(h3);
      const list = createEl('ul', { class: 'info-list' });
      center.facilities.forEach(f => {
        const li = createEl('li');
        li.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg> <span>${f}</span>`;
        list.appendChild(li);
      });
      section.appendChild(list);
      main.appendChild(section);
    }

    // If no content
    if (!main.children.length) {
      main.innerHTML = '<div class="empty-message">KhÃ´ng cÃ³ thÃ´ng tin chi tiáº¿t vá» trung tÃ¢m nÃ y.</div>';
    }
  }

  // â”€â”€ Sidebar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function renderSidebar(center) {
    const sidebar = document.getElementById('centerSidebar');
    sidebar.innerHTML = '';

    // Contact section
    const contactSection = createEl('div', { class: 'sidebar-section' });
    const h4 = createEl('h4', { text: 'ThÃ´ng tin liÃªn há»‡' });
    contactSection.appendChild(h4);

    const list = createEl('ul', { class: 'contact-list' });
    if (center.address) {
      const li = createEl('li');
      li.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg> <span>${center.address}</span>`;
      list.appendChild(li);
    }
    if (center.area) {
      const li = createEl('li');
      li.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2v20M2 12h20"/></svg> <span>${center.area}</span>`;
      list.appendChild(li);
    }
    if (center.phone) {
      const li = createEl('li');
      li.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 01-2.18 2 19.86 19.86 0 01-8.63-3.15A19.5 19.5 0 014.23 11.83 19.86 19.86 0 011.05 3.55A2 2 0 013 1.36h3a2 2 0 012 1.72c.11.81.29 1.61.55 2.39a2 2 0 01-.45 2L6.24 8.24a16 16 0 007.52 7.52l1.38-1.38a2 2 0 012-.45c.78.26 1.58.44 2.39.55a2 2 0 011.72 2z"/></svg> <span><a href="tel:${center.phone}">${center.phone}</a></span>`;
      list.appendChild(li);
    }
    if (center.website) {
      const li = createEl('li');
      const url = center.website.startsWith('http') ? center.website : `http://${center.website}`;
      li.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"/></svg> <span><a href="${url}" target="_blank" rel="noopener noreferrer">${center.website}</a></span>`;
      list.appendChild(li);
    }
    if (center.opening_hours_raw) {
      const li = createEl('li');
      li.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg> <span>${center.opening_hours_raw}</span>`;
      list.appendChild(li);
    }
    contactSection.appendChild(list);
    sidebar.appendChild(contactSection);

    // Actions
    const actionsSection = createEl('div', { class: 'sidebar-section' });
    const actions = createEl('div', { class: 'sidebar-actions' });
    if (center.phone) {
      const btn = createEl('a', { class: 'btn btn-call' });
      btn.href = `tel:${center.phone}`;
      btn.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 01-2.18 2 19.86 19.86 0 01-8.63-3.15A19.5 19.5 0 014.23 11.83 19.86 19.86 0 011.05 3.55A2 2 0 013 1.36h3a2 2 0 012 1.72c.11.81.29 1.61.55 2.39a2 2 0 01-.45 2L6.24 8.24a16 16 0 007.52 7.52l1.38-1.38a2 2 0 012-.45c.78.26 1.58.44 2.39.55a2 2 0 011.72 2z"/></svg> Gá»i ngay`;
      actions.appendChild(btn);
    }
    if (center.website) {
      const btn = createEl('a', { class: 'btn btn-website' });
      btn.href = center.website.startsWith('http') ? center.website : `http://${center.website}`;
      btn.target = '_blank';
      btn.rel = 'noopener noreferrer';
      btn.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"/></svg> Truy cáº­p website`;
      actions.appendChild(btn);
    }
    if (center.geo && center.geo.lat && center.geo.lng) {
      const btn = createEl('a', { class: 'btn btn-ghost' });
      btn.href = `https://www.google.com/maps/dir/?api=1&destination=${center.geo.lat},${center.geo.lng}`;
      btn.target = '_blank';
      btn.rel = 'noopener noreferrer';
      btn.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg> Chá»‰ Ä‘Æ°á»ng`;
      actions.appendChild(btn);
    }
    actionsSection.appendChild(actions);
    sidebar.appendChild(actionsSection);

    // Map
    if (center.maps_iframe) {
      const mapSection = createEl('div', { class: 'sidebar-section' });
      const mapH4 = createEl('h4', { text: 'Báº£n Ä‘á»“' });
      mapSection.appendChild(mapH4);
      const mapContainer = createEl('div', { class: 'map-container' });
      const iframe = document.createElement('iframe');
      iframe.src = center.maps_iframe;
      iframe.loading = 'lazy';
      iframe.allowFullscreen = true;
      mapContainer.appendChild(iframe);
      mapSection.appendChild(mapContainer);
      sidebar.appendChild(mapSection);
    }
  }

  // â”€â”€ Related centers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function renderRelatedCenters(center, centers) {
    const section = document.getElementById('relatedCentersSection');
    const container = document.getElementById('relatedCenters');
    container.innerHTML = '';
    const related = centers.filter(c => 
      c.category_slug === center.category_slug && c.slug !== center.slug
    ).slice(0, 4);

    if (!related.length) {
      section.style.display = 'none';
      return;
    }
    section.style.display = 'block';

    related.forEach((c, i) => {
      const card = createEl('div', { class: 'center-card' });
      card.style.animationDelay = `${i * 0.08}s`;
      const stars = c.rating ? 'â˜…'.repeat(Math.round(c.rating)) + 'â˜†'.repeat(5 - Math.round(c.rating)) : 'â”€';
      card.innerHTML = `
        <div class="card-image" ${c.image ? `style="background-image:url(${c.image})"` : ''}>
          ${c.category_primary ? `<span class="card-badge">${c.category_primary}</span>` : ''}
        </div>
        <div class="card-content">
          <h3>${c.name}</h3>
          <p class="card-address">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg>
            ${c.address || c.city || 'Viá»‡t Nam'}
          </p>
          <div class="card-rating">
            <span class="stars">${stars}</span>
            <span class="score">${c.rating || 'â”€'}</span>
            <span class="reviews">(${c.reviews_count || 0} nháº­n xÃ©t)</span>
          </div>
          <a href="ficha.html?id=${c.slug}" class="card-cta">Xem há»“ sÆ¡ â†’</a>
        </div>
      `;
      container.appendChild(card);
    });
  }

  // â”€â”€ FAQ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function generateFAQs(center) {
    const faqs = [];
    if (center.opening_hours_raw) {
      faqs.push({ q: 'Trung tÃ¢m cÃ³ má»Ÿ cá»­a vÃ o thá»i gian nÃ o?', a: center.opening_hours_raw });
    }
    if (center.services && center.services.some(s => /online/i.test(s))) {
      faqs.push({ q: 'Trung tÃ¢m cÃ³ cung cáº¥p khÃ³a há»c trá»±c tuyáº¿n khÃ´ng?', a: 'CÃ³, chÃºng tÃ´i cung cáº¥p cÃ¡c khÃ³a há»c trá»±c tuyáº¿n.' });
    }
    if (center.activities && center.activities.some(a => /tráº» em/i.test(a))) {
      faqs.push({ q: 'CÃ³ lá»›p dÃ nh cho tráº» em khÃ´ng?', a: 'CÃ³, trung tÃ¢m cÃ³ cÃ¡c chÆ°Æ¡ng trÃ¬nh dÃ nh riÃªng cho tráº» em.' });
    }
    if (center.phone) {
      faqs.push({ q: 'LÃ m tháº¿ nÃ o Ä‘á»ƒ liÃªn há»‡ trung tÃ¢m?', a: `Báº¡n cÃ³ thá»ƒ gá»i Ä‘iá»‡n thoáº¡i tá»›i sá»‘ ${center.phone} hoáº·c truy cáº­p website Ä‘á»ƒ biáº¿t thÃªm thÃ´ng tin.` });
    }
    if (!faqs.length) {
      faqs.push({ q: 'LÃ m tháº¿ nÃ o Ä‘á»ƒ Ä‘Äƒng kÃ½?', a: 'Vui lÃ²ng liÃªn há»‡ trá»±c tiáº¿p vá»›i trung tÃ¢m Ä‘á»ƒ biáº¿t thÃ´ng tin chi tiáº¿t vá» quy trÃ¬nh Ä‘Äƒng kÃ½.' });
    }
    return faqs;
  }

  function renderFAQs(faqs) {
    const section = document.getElementById('faqCenterSection');
    const list = document.getElementById('faqList');
    list.innerHTML = '';
    if (!faqs || !faqs.length) {
      section.style.display = 'none';
      return;
    }
    section.style.display = 'block';
    faqs.forEach(item => {
      const div = createEl('div', { class: 'accordion-item' });
      div.innerHTML = `
        <button class="accordion-header">
          <span>${item.q}</span>
          <svg class="accordion-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
        </button>
        <div class="accordion-content"><p>${item.a}</p></div>
      `;
      list.appendChild(div);
    });
    bindAccordions();
  }

  function bindAccordions() {
    document.querySelectorAll('.accordion-header').forEach(btn => {
      btn.addEventListener('click', function() {
        const item = this.closest('.accordion-item');
        const isOpen = item.classList.contains('open');
        document.querySelectorAll('.accordion-item').forEach(i => i.classList.remove('open'));
        if (!isOpen) item.classList.add('open');
      });
    });
  }

  // â”€â”€ Init â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  async function init() {
    try {
      const res = await fetch('data.json');
      const data = await res.json();
      const centers = data.centers;
      const categories = data.categories;
      const id = getCenterId();
      const center = centers.find(c => c.slug === id);

      if (!center) {
        document.getElementById('centerName').textContent = 'KhÃ´ng tÃ¬m tháº¥y trung tÃ¢m';
        document.getElementById('centerIntro').textContent = 'Trung tÃ¢m báº¡n Ä‘ang tÃ¬m khÃ´ng tá»“n táº¡i hoáº·c Ä‘Ã£ bá»‹ xÃ³a.';
        document.getElementById('centerMain').innerHTML = '<div class="empty-message">Vui lÃ²ng quay láº¡i trang chá»§ hoáº·c chá»n trung tÃ¢m khÃ¡c.</div>';
        return;
      }

      const categoryObj = categories.find(c => c.slug === center.category_slug);

      // Update meta
      document.title = `${center.name} | Anh Ngá»¯ Viá»‡t Nam`;
      document.getElementById('metaDescription').setAttribute('content', `${center.name} táº¡i ${center.city || 'Viá»‡t Nam'}. Äá»‹a chá»‰: ${center.address || ''}. ÄÃ¡nh giÃ¡ ${center.rating || 'â€“'} vá»›i ${center.reviews_count || 0} nháº­n xÃ©t.`);
      document.getElementById('canonicalLink').setAttribute('href', `https://example.com/ficha.html?id=${center.slug}`);

      // Update schema
      const schema = {
        '@context': 'https://schema.org',
        '@type': 'LocalBusiness',
        'name': center.name,
        'description': `Trung tÃ¢m ${center.category_primary || 'Anh ngá»¯'}`,
        'url': `https://example.com/ficha.html?id=${center.slug}`,
        'telephone': center.phone || '',
        'image': center.image || '',
        'address': {
          '@type': 'PostalAddress',
          'streetAddress': center.address || '',
          'addressLocality': center.city || '',
          'addressCountry': 'Viá»‡t Nam'
        }
      };
      if (center.rating) {
        schema.aggregateRating = {
          '@type': 'AggregateRating',
          'ratingValue': center.rating,
          'reviewCount': center.reviews_count || 0
        };
      }
      document.getElementById('schemaJson').textContent = JSON.stringify(schema);

      // Render
      renderBreadcrumbs(center, categoryObj);
      renderHero(center, categoryObj);
      renderMainContent(center);
      renderSidebar(center);
      renderRelatedCenters(center, centers);
      const faqs = generateFAQs(center);
      renderFAQs(faqs);

    } catch (err) {
      console.error('Error al cargar data.json', err);
      document.getElementById('centerName').textContent = 'Error al cargar';
      document.getElementById('centerIntro').textContent = 'No se pudo cargar la informaciÃ³n del centro.';
    }
  }

  init();
  </script>
</body>
</html>
